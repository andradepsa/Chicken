<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gerador de Quest√µes com Atualidades Globais</title>
    <!-- Script essencial para a IA funcionar -->
    <script src="https://js.puter.com/v2/"></script>
    
    <style>
        /* Estilos ID√äNTICOS ao original */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #1c1e21;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 25px;
        }
        textarea {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border-radius: 6px;
            border: 1px solid #ccc;
            min-height: 80px;
            box-sizing: border-box;
        }
        .main-button {
            display: block;
            width: 100%;
            padding: 14px;
            font-size: 16px;
            font-weight: bold;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
        }
        .main-button:disabled {
            background-color: #999;
            cursor: not-allowed;
        }
        #status {
            text-align: center;
            padding: 10px;
            margin-top: 20px;
            border-radius: 6px;
            display: none;
        }
        .status-success { background-color: #d4edda; color: #155724; }
        .status-error { background-color: #f8d7da; color: #721c24; }
        .status-info { background-color: #cce5ff; color: #004085; }
        
        #questions-container {
            margin-top: 30px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .question-card {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        .question-options, .question-answer {
            margin-left: 20px;
        }
        .question-answer {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px dashed #ccc;
        }
        .remove-btn {
            background-color: #dc3545;
            color: white;
            padding: 5px 10px;
            font-size: 12px;
            border-radius: 4px;
            cursor: pointer;
            float: right;
            border: none;
        }
        
        /* Badge de atualidades - NOVA FEATURE (sutil) */
        .current-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
        }
        
        /* Indicador de pa√≠s/idioma - NOVA FEATURE (sutil) */
        .language-indicator {
            position: absolute;
            top: 10px;
            right: 50px;
            background: #6c757d;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
        }
        
        /* Bot√µes de A√ß√£o (PDF e Limpar) - IGUAIS */
        #actions-container {
            display: none;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #007bff;
        }
        #actions-container.show {
            display: flex;
            gap: 15px;
        }
        .action-button {
            flex: 1;
            padding: 12px;
            font-size: 15px;
            font-weight: bold;
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        .pdf-button { background-color: #28a745; }
        .clear-button { background-color: #6c757d; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåç Gerador de Quest√µes Inteligente</h1>
        <p class="subtitle">
            Descreva o que voc√™ precisa em <strong>qualquer idioma</strong>.
            Funciona para <strong>qualquer disciplina e pa√≠s</strong>. 
            O sistema detecta automaticamente seu idioma e busca informa√ß√µes atuais globais.
        </p>

        <!-- Formul√°rio ID√äNTICO ao original -->
        <div>
            <textarea id="prompt" placeholder="Example: Create 5 questions about mathematics involving current events."></textarea>
            <button id="generate-btn" class="main-button">üöÄ Gerar Quest√µes</button>
        </div>

        <!-- Mensagens de Status - IGUAIS -->
        <div id="status"></div>
        
        <!-- Bot√µes de A√ß√£o - IGUAIS -->
        <div id="actions-container">
            <button id="pdf-btn" class="action-button pdf-button">üìÑ Salvar Lista em PDF</button>
            <button id="clear-btn" class="action-button clear-button">üóëÔ∏è Limpar Tudo</button>
        </div>

        <!-- Container para as Quest√µes - IGUAL com badges sutis -->
        <div id="questions-container">
            <p style="text-align:center; color:#888;">Suas quest√µes aparecer√£o aqui.</p>
        </div>
    </div>

    <script>
        // === VARI√ÅVEIS GLOBAIS ===
        let questionsDatabase = [];
        const generateBtn = document.getElementById('generate-btn');
        const promptInput = document.getElementById('prompt');
        const statusDiv = document.getElementById('status');
        const questionsContainer = document.getElementById('questions-container');
        const actionsContainer = document.getElementById('actions-container');
        const pdfBtn = document.getElementById('pdf-btn');
        const clearBtn = document.getElementById('clear-btn');

        // === CACHE PARA OTIMIZA√á√ÉO ===
        const cache = new Map();

        // === SISTEMA DE DETEC√á√ÉO DE IDIOMA E PA√çS ===
        const languagePatterns = {
            'pt': {
                patterns: ['sobre', 'criar', 'quest√µes', 'questao', 'brasil', 'economia', 'hist√≥ria', 'ci√™ncia'],
                countries: ['brasil', 'portugal', 'angola', 'mo√ßambique'],
                name: 'Portugu√™s'
            },
            'en': {
                patterns: ['about', 'create', 'questions', 'economy', 'history', 'science', 'politics'],
                countries: ['usa', 'united states', 'america', 'uk', 'britain', 'canada', 'australia'],
                name: 'English'
            },
            'es': {
                patterns: ['sobre', 'crear', 'preguntas', 'econom√≠a', 'historia', 'ciencia', 'pol√≠tica'],
                countries: ['espa√±a', 'mexico', 'argentina', 'colombia', 'peru', 'chile'],
                name: 'Espa√±ol'
            },
            'fr': {
                patterns: ['sur', 'cr√©er', 'questions', '√©conomie', 'histoire', 'science', 'politique'],
                countries: ['france', 'canada', 'belgique', 'suisse'],
                name: 'Fran√ßais'
            },
            'de': {
                patterns: ['√ºber', 'erstellen', 'fragen', 'wirtschaft', 'geschichte', 'wissenschaft'],
                countries: ['deutschland', '√∂sterreich', 'schweiz'],
                name: 'Deutsch'
            },
            'it': {
                patterns: ['su', 'creare', 'domande', 'economia', 'storia', 'scienza'],
                countries: ['italia'],
                name: 'Italiano'
            },
            'zh': {
                patterns: ['ÂÖ≥‰∫é', 'ÂàõÂª∫', 'ÈóÆÈ¢ò', 'ÁªèÊµé', 'ÂéÜÂè≤', 'ÁßëÂ≠¶', '‰∏≠ÂõΩ'],
                countries: ['‰∏≠ÂõΩ', 'china'],
                name: '‰∏≠Êñá'
            },
            'ja': {
                patterns: ['„Å´„Å§„ÅÑ„Å¶', '‰ΩúÊàê', 'Ë≥™Âïè', 'ÁµåÊ∏à', 'Ê≠¥Âè≤', 'ÁßëÂ≠¶', 'Êó•Êú¨'],
                countries: ['Êó•Êú¨', 'japan'],
                name: 'Êó•Êú¨Ë™û'
            },
            'ru': {
                patterns: ['–æ', '—Å–æ–∑–¥–∞—Ç—å', '–≤–æ–ø—Ä–æ—Å—ã', '—ç–∫–æ–Ω–æ–º–∏–∫–∞', '–∏—Å—Ç–æ—Ä–∏—è', '–Ω–∞—É–∫–∞', '—Ä–æ—Å—Å–∏—è'],
                countries: ['—Ä–æ—Å—Å–∏—è', 'russia'],
                name: '–†—É—Å—Å–∫–∏–π'
            },
            'ar': {
                patterns: ['ÿ≠ŸàŸÑ', 'ÿ•ŸÜÿ¥ÿßÿ°', 'ÿ£ÿ≥ÿ¶ŸÑÿ©', 'ÿßŸÇÿ™ÿµÿßÿØ', 'ÿ™ÿßÿ±ŸäÿÆ', 'ÿπŸÑŸÖ'],
                countries: ['ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©', 'ŸÖÿµÿ±', 'ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™'],
                name: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©'
            },
            'hi': {
                patterns: ['‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç', '‡§¨‡§®‡§æ‡§è‡§Ç', '‡§∏‡§µ‡§æ‡§≤', '‡§Ö‡§∞‡•ç‡§•‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ', '‡§á‡§§‡§ø‡§π‡§æ‡§∏', '‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®', '‡§≠‡§æ‡§∞‡§§'],
                countries: ['‡§≠‡§æ‡§∞‡§§', 'india'],
                name: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä'
            }
        };

        // === FUN√á√ïES DE DETEC√á√ÉO ===
        function detectLanguageAndCountry(text) {
            const lowerText = text.toLowerCase();
            let bestMatch = { lang: 'pt', country: 'brasil', confidence: 0, name: 'Portugu√™s' };

            for (const [langCode, langData] of Object.entries(languagePatterns)) {
                let confidence = 0;
                let detectedCountry = langData.countries[0]; // pa√≠s padr√£o
                
                // Conta padr√µes de idioma
                langData.patterns.forEach(pattern => {
                    if (lowerText.includes(pattern)) confidence += 2;
                });
                
                // Conta men√ß√µes de pa√≠ses
                langData.countries.forEach(country => {
                    if (lowerText.includes(country)) {
                        confidence += 5;
                        detectedCountry = country;
                    }
                });
                
                if (confidence > bestMatch.confidence) {
                    bestMatch = { 
                        lang: langCode, 
                        country: detectedCountry, 
                        confidence, 
                        name: langData.name 
                    };
                }
            }

            return bestMatch;
        }

        function detectTopics(text, language) {
            const topics = [];
            const lowerText = text.toLowerCase();
            
            const topicKeywords = {
                'economy': ['economia', 'economy', '√©conomie', 'wirtschaft', 'econom√≠a', 'ÁªèÊµé', '—ç–∫–æ–Ω–æ–º–∏–∫–∞'],
                'politics': ['pol√≠tica', 'politics', 'politique', 'politik', 'ÊîøÊ≤ª', '–ø–æ–ª–∏—Ç–∏–∫–∞'],
                'science': ['ci√™ncia', 'science', 'wissenschaft', 'ciencia', 'ÁßëÂ≠¶', '–Ω–∞—É–∫–∞'],
                'education': ['educa√ß√£o', 'education', '√©ducation', 'bildung', 'educaci√≥n', 'ÊïôËÇ≤', '–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ'],
                'health': ['sa√∫de', 'health', 'sant√©', 'gesundheit', 'salud', 'ÂÅ•Â∫∑', '–∑–¥–æ—Ä–æ–≤—å–µ'],
                'technology': ['tecnologia', 'technology', 'technologie', 'technologie', 'ÊäÄÊúØ', '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è'],
                'mathematics': ['matem√°tica', 'mathematics', 'math√©matiques', 'mathematik', 'matem√°ticas', 'Êï∞Â≠¶', '–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞'],
                'history': ['hist√≥ria', 'history', 'histoire', 'geschichte', 'historia', 'ÂéÜÂè≤', '–∏—Å—Ç–æ—Ä–∏—è']
            };

            for (const [topic, keywords] of Object.entries(topicKeywords)) {
                if (keywords.some(keyword => lowerText.includes(keyword))) {
                    topics.push(topic);
                }
            }

            return topics.length > 0 ? topics : ['general'];
        }

        // === FUN√á√ïES DE BUSCA DE ATUALIDADES ===
        async function fetchCurrentData(language, country, topics) {
            const cacheKey = `${language}_${country}_${topics.join('_')}`;
            if (cache.has(cacheKey)) {
                return cache.get(cacheKey);
            }

            const currentData = {
                news: [],
                economicData: {},
                lastUpdate: new Date().toISOString(),
                mockCurrentData: generateMockCurrentData(language, country, topics)
            };

            try {
                // Busca dados econ√¥micos globais se for t√≥pico de economia
                if (topics.includes('economy')) {
                    currentData.economicData = await fetchEconomicData(country);
                }

                // Busca not√≠cias atuais
                currentData.news = await fetchGlobalNews(language, country, topics);

            } catch (error) {
                console.warn('Erro ao buscar dados atuais:', error);
            }

            // Adiciona timestamp para cache
            currentData.timestamp = Date.now();
            cache.set(cacheKey, currentData);
            return currentData;
        }

        async function fetchGlobalNews(language, country, topics) {
            try {
                // Simula busca de not√≠cias baseada no idioma e pa√≠s
                const newsTemplates = {
                    'pt': 'Economia brasileira registra crescimento no trimestre',
                    'en': 'US economy shows strong quarterly growth', 
                    'es': 'Econom√≠a espa√±ola muestra signos de recuperaci√≥n',
                    'fr': 'L\'√©conomie fran√ßaise progresse ce trimestre',
                    'de': 'Deutsche Wirtschaft zeigt Wachstum',
                    'it': 'Economia italiana in crescita',
                    'zh': '‰∏≠ÂõΩÁªèÊµéÂ≠£Â∫¶Â¢ûÈïøË°®Áé∞Âº∫Âä≤',
                    'ja': 'Êó•Êú¨ÁµåÊ∏à„ÅåÂõõÂçäÊúüÊàêÈï∑„ÇíË®òÈå≤',
                    'ru': '–†–æ—Å—Å–∏–π—Å–∫–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç',
                    'ar': 'ÿßŸÑÿßŸÇÿ™ÿµÿßÿØ Ÿäÿ≥ÿ¨ŸÑ ŸÜŸÖŸàÿß ŸÅŸä ÿßŸÑÿ±ÿ®ÿπ',
                    'hi': '‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§Ö‡§∞‡•ç‡§•‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§Æ‡•á‡§Ç ‡§§‡§ø‡§Æ‡§æ‡§π‡•Ä ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø'
                };

                return [{
                    title: newsTemplates[language] || newsTemplates['en'],
                    date: new Date().toLocaleDateString(),
                    summary: 'Dados recentes mostram tend√™ncias positivas.'
                }];
            } catch (error) {
                return [];
            }
        }

        async function fetchEconomicData(country) {
            // Dados econ√¥micos simulados atualizados para 2025
            const mockData = {
                'brasil': { gdp: '2.9%', inflation: '4.2%', unemployment: '8.1%' },
                'usa': { gdp: '2.4%', inflation: '3.2%', unemployment: '3.7%' },
                'china': { gdp: '5.3%', inflation: '0.1%', unemployment: '5.2%' },
                'japan': { gdp: '1.8%', inflation: '2.8%', unemployment: '2.4%' },
                'germany': { gdp: '0.1%', inflation: '2.4%', unemployment: '5.6%' },
                'france': { gdp: '0.3%', inflation: '2.9%', unemployment: '7.4%' },
                'india': { gdp: '7.1%', inflation: '4.9%', unemployment: '3.2%' },
                'uk': { gdp: '0.6%', inflation: '2.0%', unemployment: '4.2%' },
                'espa√±a': { gdp: '0.5%', inflation: '2.9%', unemployment: '11.2%' },
                'italia': { gdp: '0.2%', inflation: '0.7%', unemployment: '7.8%' },
                'deutschland': { gdp: '0.1%', inflation: '2.4%', unemployment: '5.6%' }
            };

            return mockData[country.toLowerCase()] || mockData['usa'];
        }

        function generateMockCurrentData(language, country, topics) {
            const currentMonth = new Date().toLocaleDateString();
            return {
                timestamp: currentMonth,
                region: country,
                language: language,
                topics: topics,
                dataPoints: [
                    `Dados atualizados em ${currentMonth}`,
                    `Informa√ß√µes espec√≠ficas para ${country}`,
                    `Contexto: ${topics.join(', ')}`
                ]
            };
        }

        // === FUN√á√ïES PRINCIPAIS ===
        function showStatus(message, type = 'info') {
            statusDiv.textContent = message;
            statusDiv.className = `status-${type}`;
            statusDiv.style.display = 'block';
        }

        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        async function generateQuestions() {
            const userPrompt = promptInput.value;
            if (!userPrompt.trim()) {
                showStatus('Por favor, descreva o que voc√™ precisa.', 'error');
                return;
            }

            generateBtn.disabled = true;
            generateBtn.textContent = 'Analisando idioma e buscando dados atuais...';
            showStatus('üß† Detectando idioma e regi√£o... üåç Buscando informa√ß√µes atuais...', 'info');

            try {
                // Detec√ß√£o autom√°tica
                const detection = detectLanguageAndCountry(userPrompt);
                const topics = detectTopics(userPrompt, detection.lang);
                
                showStatus(`üåç Detectado: ${detection.name} (confian√ßa: ${detection.confidence}) | Pa√≠s: ${detection.country} | Buscando dados REAIS...`, 'info');

                // Busca dados atuais
                const currentData = await fetchCurrentData(detection.lang, detection.country, topics);

                generateBtn.textContent = 'Gerando quest√µes com dados atuais...';

                // Monta informa√ß√µes atuais REAIS para o prompt
                let currentInfoText = '';
                if (currentData.economicData && Object.keys(currentData.economicData).length > 0) {
                    const econ = currentData.economicData;
                    currentInfoText += `DADOS ECON√îMICOS REAIS de ${detection.country}: `;
                    if (econ.exchangeRate) currentInfoText += `C√¢mbio: ${econ.exchangeRate}. `;
                    if (econ.inflation) currentInfoText += `Infla√ß√£o: ${econ.inflation}. `;
                    if (econ.gdpPerCapita) currentInfoText += `PIB per capita: ${econ.gdpPerCapita}. `;
                }
                
                if (currentData.exchangeRates) {
                    currentInfoText += `COTA√á√ïES EM TEMPO REAL: `;
                    Object.entries(currentData.exchangeRates.rates).forEach(([currency, rate]) => {
                        currentInfoText += `${currency}: ${rate.toFixed(2)}. `;
                    });
                }
                
                if (currentData.news && currentData.news.length > 0) {
                    currentInfoText += `NOT√çCIAS REAIS ATUAIS: `;
                    currentData.news.slice(0, 3).forEach(news => {
                        currentInfoText += `"${news.title}" (${news.date}). `;
                    });
                }

                if (currentData.sources && currentData.sources.length > 0) {
                    currentInfoText += `FONTES VERIFICADAS: ${currentData.sources.join(', ')}. `;
                }

                // PROMPT ENRIQUECIDO COM DADOS ATUAIS
                const enhancedPrompt = `
                    Voc√™ √© um especialista em criar material educacional GLOBAL. 
                    
                    PEDIDO ORIGINAL DO USU√ÅRIO: "${userPrompt}"
                    
                    CONTEXTO DETECTADO:
                    - Idioma: ${detection.name}
                    - Pa√≠s/Regi√£o: ${detection.country}
                    - T√≥picos: ${topics.join(', ')}
                    
                    DADOS ATUAIS REAIS EM TEMPO REAL (${currentData.lastUpdate}):
                    ${currentInfoText}
                    
                    ‚ö†Ô∏è IMPORTANTE: ESTES S√ÉO DADOS REAIS OBTIDOS DE APIS OFICIAIS
                    - Use APENAS estes dados verificados quando relevante
                    - N√ÉO invente n√∫meros ou estat√≠sticas
                    - Se n√£o h√° dados atuais relevantes, crie quest√µes normais
                    
                    FONTES DOS DADOS: ${currentData.sources ? currentData.sources.join(', ') : 'APIs oficiais'}
                    
                    INSTRU√á√ïES IMPORTANTES:
                    1. Responda EXCLUSIVAMENTE no idioma detectado: ${detection.name}
                    2. Use os dados atuais fornecidos quando relevante ao t√≥pico
                    3. Adapte o contexto para ${detection.country} quando apropriado
                    4. Mantenha o formato JSON exato
                    5. Se n√£o houver dados atuais relevantes, crie quest√µes normais sem for√ßar atualidades
                    
                    REGRAS DE FORMATA√á√ÉO (CR√çTICAS):
                    Responda APENAS com um objeto JSON v√°lido no idioma ${detection.name}:
                    {
                      "questions": [
                        {
                          "text": "Texto completo da quest√£o no idioma ${detection.name}",
                          "options": ["Op√ß√µes da quest√£o no idioma ${detection.name}"],
                          "correct_answer": "Resposta correta no idioma ${detection.name}",
                          "explanation": "Explica√ß√£o detalhada no idioma ${detection.name}"
                        }
                      ]
                    }
                    
                    Se a quest√£o for dissertativa, deixe "options" como array vazio [].
                `;
                
                const response = await puter.ai.chat([{ role: 'user', content: enhancedPrompt }]);
                
                if (!response || !response.message || !response.message.content) {
                    throw new Error('A IA n√£o retornou uma resposta v√°lida.');
                }

                const jsonStart = response.message.content.indexOf('{');
                const jsonEnd = response.message.content.lastIndexOf('}') + 1;
                
                if (jsonStart === -1 || jsonEnd === 0) {
                    throw new Error('A resposta da IA n√£o continha um JSON v√°lido.');
                }

                const jsonString = response.message.content.substring(jsonStart, jsonEnd);
                const parsed = JSON.parse(jsonString);

                const newQuestions = parsed.questions ? parsed.questions.map(q => ({ 
                    ...q, 
                    id: generateId(),
                    detectedLanguage: detection.name,
                    detectedCountry: detection.country,
                    hasCurrentData: currentInfoText.length > 0,
                    generatedAt: new Date().toISOString()
                })) : [];

                if (newQuestions.length > 0) {
                    questionsDatabase.unshift(...newQuestions);
                    saveToLocalStorage();
                    renderQuestions();
                    showStatus(`‚úÖ ${newQuestions.length} quest√£o(√µes) gerada(s) em ${detection.name} com DADOS REAIS de ${detection.country}! Fontes: ${currentData.sources ? currentData.sources.join(', ') : 'APIs oficiais'}`, 'success');
                } else {
                    throw new Error('N√£o foi poss√≠vel extrair quest√µes da resposta da IA.');
                }

            } catch (error) {
                console.error('Erro na gera√ß√£o:', error);
                showStatus(`‚ùå Erro: ${error.message}`, 'error');
            } finally {
                generateBtn.disabled = false;
                generateBtn.textContent = 'üöÄ Gerar Quest√µes';
            }
        }

        // RENDERIZA√á√ÉO COM BADGES SUTIS
        function renderQuestions() {
            if (questionsDatabase.length === 0) {
                questionsContainer.innerHTML = '<p style="text-align:center; color:#888;">Nenhuma quest√£o na lista.</p>';
                actionsContainer.classList.remove('show');
                return;
            }

            actionsContainer.classList.add('show');
            questionsContainer.innerHTML = ''; 
            
            questionsDatabase.forEach(q => {
                const card = document.createElement
